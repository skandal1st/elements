# –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º

## ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] `.env.production` –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ Git
- [ ] –í—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ `.env.production` –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ —Å–∏–ª—å–Ω—ã–µ
- [ ] `JWT_SECRET` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞
- [ ] `SEED_ADMIN_PASSWORD` - —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω. 16 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] `POSTGRES_PASSWORD` - —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- [ ] `REDIS_PASSWORD` - —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ù–ï –≤ Git
- [ ] –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ë–î –ù–ï –≤ Git

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- [ ] `DOMAIN` - —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
- [ ] `CORS_ORIGINS` - —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –≤–∞—à –¥–æ–º–µ–Ω (–Ω–µ *)
- [ ] `SEED_ADMIN_EMAIL` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [ ] –ü–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã –≤ —Ñ–∞–µ—Ä–≤–æ–ª–µ
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞

### –§–∞–π–ª—ã

- [ ] `docker-compose.prod.yml` –≥–æ—Ç–æ–≤
- [ ] `nginx/conf.d/default.conf` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] `.env.production.example` –æ–±–Ω–æ–≤–ª–µ–Ω (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π!)
- [ ] `deploy.sh` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (chmod +x)
- [ ] `backup.sh` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (chmod +x)
- [ ] `fix-docker-rate-limit.sh` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π (chmod +x)

### Docker Hub

- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ hub.docker.com (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `docker login` –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] `DEPLOYMENT.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
- [ ] `QUICK_DEPLOY.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
- [ ] `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω

## üîí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–ª—å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π

### JWT Secret (32+ —Å–∏–º–≤–æ–ª–æ–≤)
```bash
python3 -c "import secrets; print(secrets.token_urlsafe(32))"
```

### PostgreSQL Password
```bash
openssl rand -base64 24
```

### Redis Password
```bash
openssl rand -base64 24
```

### Admin Password
```bash
openssl rand -base64 16
```

## üìã –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

- **–û–°**: Ubuntu 20.04+ / Debian 11+
- **CPU**: 2 —è–¥—Ä–∞
- **RAM**: 4 GB
- **–î–∏—Å–∫**: 20 GB SSD
- **–ü–æ—Ä—Ç—ã**: 80, 443

## üöÄ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏
   - –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã –≤ —Ñ–∞–µ—Ä–≤–æ–ª–µ
   - –°–æ–∑–¥–∞—Ç—å `.env.production` —Å —Å–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**
   ```bash
   # –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
   rsync -avz --exclude 'node_modules' --exclude '.git' \
     ./ root@your-server:/opt/elements/
   ```

3. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   cd /opt/elements
   sudo ./deploy.sh
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL**
   ```bash
   sudo apt install certbot
   sudo certbot certonly --standalone -d yourdomain.com
   ```

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://yourdomain.com
   - –í–æ–π–¥–∏—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –º–æ–¥—É–ª–∏

6. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è**
   ```bash
   # –î–æ–±–∞–≤—å—Ç–µ –≤ crontab
   0 2 * * * cd /opt/elements && ./backup.sh
   ```

## ‚ö†Ô∏è –í–ê–ñ–ù–û

### –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ Git:
- `.env.production`
- `ssl/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- `backups/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- –õ—é–±—ã–µ —Ñ–∞–π–ª—ã —Å –ø–∞—Ä–æ–ª—è–º–∏

### –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
1. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.prod.yml ps

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ "Up":
# - elements-postgres
# - elements-redis
# - elements-backend
# - elements-frontend
# - elements-nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl http://localhost/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: OK

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose -f docker-compose.prod.yml logs -f backend
# –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
```

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose -f docker-compose.prod.yml logs -f`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env.production`: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è?
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `sudo netstat -tulpn | grep -E ':(80|443)'`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–µ—Ä–≤–æ–ª: `sudo ufw status`
5. –ò–∑—É—á–∏—Ç–µ `DEPLOYMENT.md` —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [DEPLOYMENT.md](DEPLOYMENT.md)
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: [QUICK_DEPLOY.md](QUICK_DEPLOY.md)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: [ARCHITECTURE.md](ARCHITECTURE.md)
