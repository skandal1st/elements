#!/bin/bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Cursor –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–æ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë

echo "üßπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ Cursor –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Elements..."
echo ""

# 1. –£–¥–∞–ª—è–µ–º –±–æ–ª—å—à–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã (>50KB)
echo "üìù –£–¥–∞–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ (>50KB)..."
find "$HOME/.cursor/projects" -type f -name "*.txt" -size +50k -delete 2>/dev/null
echo "  ‚úì –ë–æ–ª—å—à–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã —É–¥–∞–ª–µ–Ω—ã"
echo ""

# 2. –û—á–∏—â–∞–µ–º –∫—ç—à –ø—Ä–æ–µ–∫—Ç–∞ Elements
echo "üóÇÔ∏è  –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–æ–µ–∫—Ç–∞ Elements..."
rm -rf "$HOME/.cursor/projects/home-skandal1st-Elements" 2>/dev/null
rm -rf "$HOME/.cursor/projects/home-skandal1st-Elements-finance" 2>/dev/null
echo "  ‚úì –ö—ç—à –ø—Ä–æ–µ–∫—Ç–∞ —É–¥–∞–ª–µ–Ω"
echo ""

# 3. –û—á–∏—â–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–∏–Ω–≥–∞, –µ—Å–ª–∏ –æ–Ω–∞ –±–æ–ª—å—à–µ 10MB
echo "üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–∏–Ω–≥–∞..."
TRACKING_DB="$HOME/.cursor/ai-tracking/ai-code-tracking.db"
if [ -f "$TRACKING_DB" ]; then
    size_bytes=$(stat -f%z "$TRACKING_DB" 2>/dev/null || stat -c%s "$TRACKING_DB" 2>/dev/null)
    if [ "$size_bytes" -gt 10485760 ]; then
        rm -f "$TRACKING_DB"
        echo "  ‚úì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–∏–Ω–≥–∞ —É–¥–∞–ª–µ–Ω–∞ (–±—ã–ª–∞ –±–æ–ª—å—à–µ 10MB)"
    else
        echo "  ‚úì –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–æ—Ä–º–µ"
    fi
else
    echo "  ‚úì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
fi
echo ""

echo "‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo ""
echo "üìã –¢–µ–ø–µ—Ä—å:"
echo "1. –ó–∞–∫—Ä–æ–π—Ç–µ Cursor –ø–æ–ª–Ω–æ—Å—Ç—å—é"
echo "2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç Elements –∑–∞–Ω–æ–≤–æ"
